<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Interactive Periodic Table</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="alchemist.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

</head>
<body>
<nav class="navbar navbar-expand-lg custom-navbar mb-3">
  <div class="container-fluid">
    <a class="navbar-brand gradient-text" href="#">ðŸ•·Alchemist</a>
    <button
      class="navbar-toggler text-light"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarContent"
      aria-controls="navbarContent"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      â˜°
    </button>

    <div class="collapse navbar-collapse" id="navbarContent">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item">
          <a class="nav-link neon-link" href="#">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link neon-link" href="ReactionPage.html">Reaction</a>
        </li>
        <li class="nav-item">
          <a class="nav-link neon-link" href="QuizPage.html">Quiz</a>
        </li>
      </ul>

      <form
        class="d-flex align-items-center ms-3"
        id="searchForm"
        role="search"
        style="max-width: 220px;"
      >
        <input
          class="form-control neon-input me-1"
          type="search"
          id="searchInput"
          placeholder="Search Element"
          aria-label="Search"
          style="min-width: 100px;"
        />
        <button class="btn neon-btn" type="submit" id="searchBtn">Search</button>
      </form>
    </div>
  </div>
</nav>


<div class="category-labels text-center mb-4">
  <button class="filter-btn" data-group="alkali-metal">Alkali Metals</button>
  <button class="filter-btn" data-group="alkaline-earth-metal">Alkaline Earth Metals</button>
  <button class="filter-btn" data-group="lanthanide">Lanthanoids</button>
  <button class="filter-btn" data-group="actinide">Actinoids</button>
  <button class="filter-btn" data-group="transition-metal">Transition Metals</button>
  <button class="filter-btn" data-group="post-transition-metal">Post-Transition Metals</button>
  <button class="filter-btn" data-group="metalloid">Metalloids</button>
  <button class="filter-btn" data-group="nonmetal">Other Nonmetals</button>
  <button class="filter-btn" data-group="halogen">Halogens</button>
  <button class="filter-btn" data-group="noble-gas">Noble Gases</button>
  <button class="filter-btn" data-group="all">Show All</button>
</div>


<div class="container my-1">
  <form id="topSearchForm" class="d-flex justify-content-center" role="search" style="max-width: 420px; margin: initial;">
    <input
      class="form-control neon-input me-1"
      type="search"
      id="topSearchInput"
      placeholder="Search Element"
      aria-label="Search"
      style="max-width: 100px;"
    />
    <button class="btn neon-btn" type="submit" id="topSearchBtn">Search</button>
  </form>
</div>



  
  <div class="container py-4">
    <h1 class="text-center mb-4">Alchemist</h1>
    
    <div id="periodic-table"></div>

    <div id="element-info" class="info-box visually-hidden">
      <div id="drag-handle" style="cursor:move; font-weight:bold;">Drag</div>

      <div style="display:flex; gap:8px; align-items:center; justify-content:flex-end;">
        <button id="detailsBtn" type="button" class="btn btn-sm btn-outline-info">Details</button>
        <button type="button" class="custom-close float-end" onclick="hideInfoBox()">X</button>
      </div>

      <h4 id="info-name"></h4>
      <p><strong>Symbol:</strong> <span id="info-symbol"></span></p>
      <p><strong>Atomic Number:</strong> <span id="info-number"></span></p>
      <p><strong>Atomic Mass:</strong> <span id="info-mass"></span></p>
      <p><strong>Group:</strong> <span id="info-group"></span></p>

      <div id="info-details" class="visually-hidden" style="margin-top:8px; padding-top:6px; border-top:1px solid rgba(255,255,255,0.06);">
        <p><strong>Density:</strong> <span id="info-density">Data not available</span></p>
        <p><strong>Boiling Point:</strong> <span id="info-boiling">Data not available</span></p>
        <p><strong>Melting Point:</strong> <span id="info-melting">Data not available</span></p>
        <p><strong>Molar Heat Capacity:</strong> <span id="info-molar-heat">Data not available</span></p>
        <p><strong>Source:</strong> <a id="info-source" href="#" target="_blank" rel="noopener">Wikipedia</a></p>
      </div>

    </div>
  </div>
  
  
  <script>
    
    
    const elements = [
      { atomicNumber: 1,  name: "Hydrogen",  symbol: "H",  mass: 1.008,  group: "nonmetal", row: 1, col: 1,
        density: "0.08988 g/L (0 Â°C, 1 atm)", boilingPoint: "-252.879 Â°C", meltingPoint: "-259.16 Â°C", molarHeat: "28.836 JÂ·molâˆ’1Â·Kâˆ’1" },
      { atomicNumber: 2,  name: "Helium",    symbol: "He", mass: 4.0026, group: "noble-gas", row: 1, col: 18,
        density: "0.1786 g/L (0 Â°C, 1 atm)", boilingPoint: "-268.928 Â°C", meltingPoint: "-272.2 Â°C (under pressure)", molarHeat: "20.786 JÂ·molâˆ’1Â·Kâˆ’1" },
      { atomicNumber: 3,  name: "Lithium",   symbol: "Li", mass: 6.94,   group: "alkali-metal", row: 2, col: 1 },
      { atomicNumber: 4,  name: "Beryllium", symbol: "Be", mass: 9.0122, group: "alkaline-earth-metal", row: 2, col: 2 },
      { atomicNumber: 5,  name: "Boron",     symbol: "B",  mass: 10.81,  group: "metalloid", row: 2, col: 13 },
      { atomicNumber: 7,  name: "Nitrogen",  symbol: "N",  mass: 14.01,  group: "nonmetal", row: 2, col: 15 },
      { atomicNumber: 6,  name: "Carbon",    symbol: "C",  mass: 12.01,  group: "nonmetal", row: 2, col: 14,
        density: "2.267 g/cmÂ³ (graphite)", boilingPoint: "~4827 Â°C (sublimes)", meltingPoint: "~3550 Â°C (approx)", molarHeat: "8.517 JÂ·molâˆ’1Â·Kâˆ’1" },
            { atomicNumber: 8,  name: "Oxygen",    symbol: "O",  mass: 16.00,  group: "nonmetal", row: 2, col: 16,
              density: "1.429 g/L (0 Â°C, 1 atm)", boilingPoint: "-182.962 Â°C", meltingPoint: "-218.79 Â°C", molarHeat: "29.378 JÂ·molâˆ’1Â·Kâˆ’1" },
      { atomicNumber: 9,  name: "Fluorine",  symbol: "F",  mass: 19.00,  group: "halogen", row: 2, col: 17 },
      { atomicNumber: 10, name: "Neon",      symbol: "Ne", mass: 20.18,  group: "noble-gas", row: 2, col: 18 },
      { atomicNumber: 11, symbol: "Na", name: "Sodium", mass: 22.99, group: "alkali-metal", row: 3, col: 1,
        density: "0.968 g/cmÂ³", boilingPoint: "883 Â°C", meltingPoint: "97.79 Â°C", molarHeat: "28.23 JÂ·molâˆ’1Â·Kâˆ’1" },
    { atomicNumber: 12, symbol: "Mg", name: "Magnesium", mass: 24.305, group: "alkaline-earth-metal", row: 3, col: 2 },
    { atomicNumber: 13, symbol: "Al", name: "Aluminium", mass: 26.982, group: "post-transition-metal", row: 3, col: 13 },
    { atomicNumber: 14, symbol: "Si", name: "Silicon", mass: 28.085, group: "metalloid", row: 3, col: 14 },
    { atomicNumber: 15, symbol: "P", name: "Phosphorus", mass: 30.974, group: "nonmetal", row: 3, col: 15 },
    { atomicNumber: 16, symbol: "S", name: "Sulfur", mass: 32.06, group: "nonmetal", row: 3, col: 16 },
    { atomicNumber: 17, symbol: "Cl", name: "Chlorine", mass: 35.45, group: "halogen", row: 3, col: 17,
      density: "3.214 g/L (0 Â°C, 1 atm)", boilingPoint: "-34.04 Â°C", meltingPoint: "-101.5 Â°C", molarHeat: "33.95 JÂ·molâˆ’1Â·Kâˆ’1" },
    { atomicNumber: 18, symbol: "Ar", name: "Argon", mass: 39.948, group: "noble-gas", row: 3, col: 18 },
    { atomicNumber: 19, symbol: "K", name: "Potassium", mass: 39.098, group: "alkali-metal", row: 4, col: 1 },
    { atomicNumber: 20, symbol: "Ca", name: "Calcium", mass: 40.078, group: "alkaline-earth-metal", row: 4, col: 2 },
    { atomicNumber: 21, symbol: "Sc", name: "Scandium", mass: 44.956, group: "transition-metal", row: 4, col: 3 },
    { atomicNumber: 22, symbol: "Ti", name: "Titanium", mass: 47.867, group: "transition-metal", row: 4, col: 4 },
    { atomicNumber: 23, symbol: "V", name: "Vanadium", mass: 50.942, group: "transition-metal", row: 4, col: 5 },
    { atomicNumber: 24, symbol: "Cr", name: "Chromium", mass: 51.996, group: "transition-metal", row: 4, col: 6 },
    { atomicNumber: 25, symbol: "Mn",name: "Manganese", mass: 54.938, group: "transition-metal", row: 4, col: 7 },
    { atomicNumber: 26, symbol: "Fe", name: "Iron", mass: 55.845, group: "transition-metal", row: 4, col: 8,
      density: "7.874 g/cmÂ³", boilingPoint: "2862 Â°C", meltingPoint: "1538 Â°C", molarHeat: "25.10 JÂ·molâˆ’1Â·Kâˆ’1" },
    { atomicNumber: 27, symbol: "Co", name: "Cobalt", mass: 58.933, group: "transition-metal", row: 4, col: 9 },
    { atomicNumber: 28, symbol: "Ni", name: "Nickel", mass: 58.693, group: "transition-metal", row: 4, col: 10 },
    { atomicNumber: 29, symbol: "Cu", name: "Copper", mass: 63.546, group: "transition-metal", row: 4, col: 11,
      density: "8.96 g/cmÂ³", boilingPoint: "2562 Â°C", meltingPoint: "1085 Â°C", molarHeat: "24.44 JÂ·molâˆ’1Â·Kâˆ’1" },
    { atomicNumber: 30, symbol: "Zn", name: "Zinc", mass: 65.38, group: "transition-metal", row: 4, col: 12 },
    { atomicNumber: 31, symbol: "Ga", name: "Gallium", mass: 69.723, group: "post-transition-metal", row: 4, col: 13 },
    { atomicNumber: 32, symbol: "Ge", name: "Germanium", mass: 72.63, group: "metalloid", row: 4, col: 14 },
    { atomicNumber: 33, symbol: "As", name: "Arsenic", mass: 74.922, group: "metalloid", row: 4, col: 15 },
    { atomicNumber: 34, symbol: "Se", name: "Selenium", mass: 78.971, group: "nonmetal", row: 4, col: 16 },
    { atomicNumber: 35, symbol: "Br", name: "Bromine", mass: 79.904, group: "halogen", row: 4, col: 17 },
    { atomicNumber: 36, symbol: "Kr", name: "Krypton", mass: 83.798, group: "noble-gas", row: 4, col: 18 },
    { atomicNumber: 37, symbol: "Rb", name: "Rubidium", mass: 85.467, group: "alkali-metal", row: 5, col: 1 },
    { atomicNumber: 38, symbol: "Sr", name: "Strontium", mass: 87.62, group: "alkaline-earth-metal", row: 5, col: 2 },
    { atomicNumber: 39, symbol: "Y", name: "Yttrium", mass: 88.906, group: "transition-metal", row: 5, col: 3 },
    { atomicNumber: 40, symbol: "Zr", name: "Zirconium", mass: 91.224, group: "transition-metal", row: 5, col: 4 },
    { atomicNumber: 41, symbol: "Nb", name: "Niobium", mass: 92.906, group: "transition-metal", row: 5, col: 5 },
    { atomicNumber: 42, symbol: "Mo", name: "Molybdenum", mass: 95.95, group: "transition-metal", row: 5, col: 6 },
    { atomicNumber: 43, symbol: "Tc", name: "Technetium", mass: [98], group: "transition-metal", row: 5, col: 7 },
    { atomicNumber: 44, symbol: "Ru", name: "Ruthenium", mass: [101.07], group: "transition-metal", row: 5, col: 8 },
    { atomicNumber: 45, symbol:"Rh", name:"Rhodium", mass:[102.905], group:"transition-metal", row:"5", col:"9" },
    { atomicNumber:"46", symbol:"Pd", name:"Palladium", mass:[106.42], group:"transition-metal", row:"5", col:"10" },
    { atomicNumber:"47", symbol:"Ag", name:"Silver", mass:[107.8682], group:"transition-metal", row:"5", col:"11",
      density: "10.49 g/cmÂ³", boilingPoint: "2162 Â°C", meltingPoint: "961.78 Â°C", molarHeat: "25.35 JÂ·molâˆ’1Â·Kâˆ’1" },
    { atomicNumber:"48", symbol:"Cd", name:"Cadmium", mass:[112.414], group:"post-transition-metal", row:"5", col:"12" },
    { atomicNumber: 49, symbol: "In", name: "Indium", mass: 114.818, group: "post-transition-metal", row: 5, col: 13 },
    { atomicNumber: 50, symbol: "Sn", name: "Tin", mass: 118.710, group: "post-transition-metal", row: 5, col: 14 },
    { atomicNumber: 51, symbol: "Sb", name: "Antimony", mass: 121.760, group: "metalloid", row: 5, col: 15 },
    { atomicNumber: 52, symbol: "Te", name: "Tellurium", mass: 127.60, group: "metalloid", row: 5, col: 16 },
    { atomicNumber: 53, symbol: "I", name: "Iodine", mass: 126.904, group: "halogen", row: 5, col: 17 },
    { atomicNumber: 54, symbol:"Xe", name:"Xenon", mass:[131.293], group:"noble-gas", row:"5", col:"18" },
    { atomicNumber:"55", symbol:"Cs", name:"Caesium", mass:[132.90545196], group:"alkali-metal", row:"6", col:"1" },
    { atomicNumber:"56", symbol:"Ba", name:"Barium", mass:[137.327], group:"alkaline-earth-metal", row:"6", col:"2" },
  { atomicNumber:"57", symbol:"La", name:"Lanthanum", mass:[138.904], group:"lanthanide", row:"10", col:"3" },
    { atomicNumber:"58", symbol:"Ce", name:"Cerium", mass:[140.116], group:"lanthanide", row:"10", col:"4" },
    { atomicNumber:"59", symbol:"Pr", name:"Praseodymium", mass:[140.90766], group:"lanthanide", row:"10", col:"5" },
    { atomicNumber:"60", symbol:"Nd", name:"Neodymium", mass:[144.242], group:"lanthanide", row:"10", col:"6" },
    { atomicNumber:"61", symbol:"Pm", name:"Promethium", mass:[145], group:"lanthanide", row:"10", col:"7" },
    { atomicNumber:"62", symbol:"Sm", name:"Samarium", mass:[150.36], group:"lanthanide", row:"10", col:"8" },
    { atomicNumber:"63", symbol:"Eu", name:"Europium", mass:[151.964], group:"lanthanide", row:"10", col:"9" },
    { atomicNumber:"64", symbol:"Gd", name:"Gadolinium", mass:[157.25], group:"lanthanide", row:"10", col:"10" },
    { atomicNumber:"65", symbol:"Tb", name:"Terbium", mass:[158.92535], group:"lanthanide", row:10, col:"11" },
    { atomicNumber:"66", symbol:"Dy", name:"Dysprosium", mass:[162.500], group:"lanthanide", row:"10", col:"12" },
    { atomicNumber: 67, symbol: "Ho", name: "Holmium", mass: 164.930, group: "lanthanide", row: 10, col: 13 },
    { atomicNumber: 68, symbol: "Er", name: "Erbium", mass: 167.259, group: "lanthanide", row: 10, col: 14 },
    { atomicNumber: 69, symbol: "Tm", name: "Thulium", mass: 168.934, group: "lanthanide", row: 10, col: 15 },
    { atomicNumber: 70, symbol: "Yb", name: "Ytterbium", mass: 173.04, group: "lanthanide", row: 10, col: 16 },
    { atomicNumber: 71, symbol: "Lu", name: "Lutetium", mass: 174.9668, group: "lanthanide", row: 10, col: 17 },
    
{ atomicNumber: 72, symbol: "Hf", name: "Hafnium", mass: 178.49, group: "transition-metal", row:6, col: 4 },
    { atomicNumber: 73, symbol: "Ta", name: "Tantalum", mass: 180.9479, group: "transition-metal", row: 6, col: 5 },
    { atomicNumber: 74, symbol: "W", name: "Tungsten", mass: 183.84, group: "transition-metal", row: 6, col: 6 },
    { atomicNumber: 75, symbol: "Re", name: "Rhenium", mass: 186.207, group: "transition-metal", row: 6, col: 7 },
    { atomicNumber: 76, symbol: "Os", name: "Osmium", mass: 190.23, group: "transition-metal", row: 6, col: 8 },
    { atomicNumber: 77, symbol:"Ir", name:"Iridium", mass:[192.217], group:"transition-metal", row:"6", col:"9" },
    { atomicNumber:"78", symbol:"Pt", name:"Platinum", mass:[195.084], group:"transition-metal", row:"6", col:"10" },
    { atomicNumber:"79", symbol:"Au", name:"Gold", mass:[196.966569], group:"transition-metal", row:"6", col:"11",
      density: "19.32 g/cmÂ³", boilingPoint: "2856 Â°C", meltingPoint: "1064.18 Â°C", molarHeat: "25.418 JÂ·molâˆ’1Â·Kâˆ’1" },
    { atomicNumber:"80", symbol:"Hg", name:"Mercury", mass:[200.592], group:"post-transition-metal", row:"6", col:"12" },
    { atomicNumber: 81, symbol: "Tl", name: "Thallium", mass: 204.38, group: "post-transition-metal", row: 6, col: 13 },
    { atomicNumber: 82, symbol: "Pb", name: "Lead", mass: 207.2, group: "post-transition-metal", row: 6, col: 14 },
    { atomicNumber: 83, symbol: "Bi", name: "Bismuth", mass: [208.980], group: "post-transition-metal", row: 6, col: 15 },
    { atomicNumber:"84", symbol:"Po", name:"Polonium", mass:[209], group:"metalloid", row:"6", col:"16" },
    { atomicNumber:"85", symbol:"At", name:"Astatine", mass:[210], group:"halogen", row:"6", col:"17" },
    { atomicNumber:"86", symbol:"Rn", name:"Radon", mass:[222], group:"noble-gas", row:"6", col:"18" },
    { atomicNumber: 87, symbol: "Fr", name: "Francium", mass: [223], group: "alkali-metal", row: 7, col: 1 },
    { atomicNumber: 88, symbol: "Ra", name: "Radium", mass: [226], group: "alkaline-earth-metal", row: 7, col: 2 },
    { atomicNumber: 89, symbol: "Ac", name: "Actinium", mass: [227], group: "actinide", row: 11, col: 3 },
    { atomicNumber: 90, symbol: "Th", name: "Thorium", mass: [232.038], group: "actinide", row:11, col: 4 },
    { atomicNumber: 91, symbol: "Pa", name: "Protactinium", mass: [231.035], group: "actinide", row:11, col: 5 },
    { atomicNumber:"92", symbol:"U", name:"Uranium", mass:[238.02891], group:"actinide", row:"11", col:"6" },
    { atomicNumber:"93", symbol:"Np", name:"Neptunium", mass:[237], group:"actinide", row:"11", col:"7" },
    { atomicNumber:"94", symbol:"Pu", name:"Plutonium", mass:[244], group:"actinide", row:"11", col:"8" },
    { atomicNumber:"95", symbol:"Am", name:"Americium", mass:[243], group:"actinide", row:"11", col:"9" },
    { atomicNumber:"96", symbol:"Cm", name:"Curium", mass:[247], group:"actinide", row:"11", col:"10" },
    { atomicNumber:"97", symbol:"Bk", name:"Berkelium", mass:[247], group:"actinide", row:"11", col:"11" },
    { atomicNumber:"98", symbol:"Cf", name:"Californium", mass:[251], group:"actinide", row:"11", col: 12 },
    { atomicNumber:"99", symbol:"Es", name:"Einsteinium", mass:[252], group:"actinide", row:"11", col:"13" },
    { atomicNumber:"100", symbol:"Fm", name:"Fermium", mass:[257], group:"actinide", row:"11", col:"14" },
    { atomicNumber:"101", symbol:"Md", name:"Mendelevium", mass:[258], group:"actinide", row:"11", col:"15" },
    { atomicNumber:"102", symbol:"No", name:"Nobelium", mass:[259], group:"actinide", row:"11", col: "16" },
    { atomicNumber: 103, symbol: "Lr", name: "Lawrencium", mass: [262], group: "actinide", row: 11, col: 17 },
    { atomicNumber: 104, symbol: "Rf", name: "Rutherfordium", mass: [267], group: "transition-metal", row: 7, col: 4 },
    { atomicNumber: 105, symbol: "Db", name: "Dubnium", mass: [268], group: "transition-metal", row: 7, col: 5 },
    { atomicNumber: 106, symbol: "Sg", name: "Seaborgium", mass: [271], group: "transition-metal", row: 7, col: 6 },
    { atomicNumber: 107, symbol: "Bh", name: "Bohrium", mass: [270], group: "transition-metal", row: 7, col: 7 },
    { atomicNumber: 108, symbol:"Hs", name:"Hassium", mass:[277], group:"transition-metal", row:"7", col:"8" },
    { atomicNumber:"109", symbol:"Mt", name:"Meitnerium", mass:[276], group:"transition-metal", row:"7", col:"9" },
    { atomicNumber:"110", symbol:"Ds", name:"Darmstadtium", mass:[281], group:"transition-metal", row:"7", col:"10" },
    { atomicNumber:"111", symbol:"Rg", name:"Roentgenium", mass:[282], group:"post-transition-metal", row:"7", col:"11" },
    { atomicNumber:"112", symbol:"Cn", name:"Copernicium", mass:[285], group:"post-transition-metal", row:"7", col:"12" },
    { atomicNumber:"113", symbol:"Nh", name:"Nihonium", mass:[286], group:"post-transition-metal", row:"7", col:"13" },
    { atomicNumber:"114", symbol:"Fl", name:"Flerovium", mass:[289], group:"post-transition-metal", row:"7", col:"14" },
    { atomicNumber: 115, symbol: "Mc", name: "Moscovium", mass: [288], group: "post-transition-metal", row: 7, col: 15 },
    { atomicNumber: 116, symbol: "Lv", name: "Livermorium", mass: [293], group: "post-transition-metal", row:7, col: 16 },
    { atomicNumber: 117, symbol: "Ts", name: "Tennessine", mass: [294], group: "halogen", row: 7, col: 17 },
    { atomicNumber: 118, symbol: "Og", name: "Oganesson", mass: [294], group: "noble-gas", row: 7, col: 18 },
        { atomicNumber: '', symbol: "57-71", name: "Lanthanides", mass:'', group: "lanthanide", row:6, col: 3 },
        { atomicNumber: '', symbol: "89-103", name: "Actinides", mass:'', group: "actinide", row:7, col: 3 },
        
    ];

    // load additional physical properties from external JSON (if available)
    let extraProps = {};
    fetch('element-data.json')
      .then(r => r.json())
      .then(data => { extraProps = data; })
      .catch(() => { /* ignore if file missing */ });

    /* No JS needed, just add this CSS at the end of the <style> block: */
    
    


   

    // track currently selected element for details
    let currentElement = null;

    function createElementBox(element) {
      const el = document.createElement('div');
      el.className = `element ${element.group.replace(/\s+/g, '-').toLowerCase()}`;
      el.style.gridColumn = element.col;
      el.style.gridRow = element.row;
      el.innerHTML = `<strong>${element.symbol}</strong><br><small>${element.atomicNumber}</small>`;
      // provide name for search matching
      el.setAttribute('data-name', element.name || '');
      el.addEventListener('click', () => showInfoBox(element, el));

      return el;
    }

    function showInfoBox(element, domEl) {
  const box = document.getElementById('element-info');
      // track current element for Details panel
      currentElement = element;

  document.getElementById('info-name').textContent = element.name;
  document.getElementById('info-symbol').textContent = element.symbol;
  document.getElementById('info-number').textContent = element.atomicNumber;
  document.getElementById('info-mass').textContent = element.mass;
  document.getElementById('info-group').textContent = element.group;

  // Reset animation if already visible
  box.classList.remove('visually-hidden');
  box.style.animation = 'none';
  void box.offsetWidth;  // Force reflow
  box.style.animation = 'mysticPop 0.5s ease-out';

  // Dynamically set the border color:
  const borderColor = getComputedStyle(domEl).borderColor;
  box.style.borderColor = borderColor;
  // hide details panel by default when showing new element
  const detailsPanel = document.getElementById('info-details');
  if (detailsPanel) detailsPanel.classList.add('visually-hidden');
  const detailsBtn = document.getElementById('detailsBtn');
  if (detailsBtn) detailsBtn.textContent = 'Details';
}

// store currently shown element for Details button (declared above near element setup)

function populateDetails(element) {
  // merge any extra properties from JSON
  const props = (element.atomicNumber && extraProps[element.atomicNumber]) ? extraProps[element.atomicNumber] : {};
  // If properties are not present, show 'Data not available'
  document.getElementById('info-density').textContent = props.density ?? element.density ?? 'Data not available';
  document.getElementById('info-boiling').textContent = props.boilingPoint ?? element.boilingPoint ?? 'Data not available';
  document.getElementById('info-melting').textContent = props.meltingPoint ?? element.meltingPoint ?? 'Data not available';
  document.getElementById('info-molar-heat').textContent = props.molarHeat ?? element.molarHeat ?? 'Data not available';
}

// wire Details button toggle
const detailsBtnEl = document.getElementById('detailsBtn');
if (detailsBtnEl) {
  detailsBtnEl.addEventListener('click', function () {
    const detailsPanel = document.getElementById('info-details');
    if (!currentElement) return;
    if (detailsPanel.classList.contains('visually-hidden')) {
      populateDetails(currentElement);
      // set wikipedia source link
      const src = document.getElementById('info-source');
      if (src) {
        try {
          const page = encodeURIComponent((currentElement.wiki || currentElement.name).replace(/\s+/g, '_'));
          src.href = `https://en.wikipedia.org/wiki/${page}`;
          src.textContent = (currentElement.name) ? `Wikipedia: ${currentElement.name}` : 'Wikipedia';
          src.style.display = 'inline';
        } catch (e) {
          src.href = '#';
          src.textContent = 'Wikipedia';
        }
      }

      detailsPanel.classList.remove('visually-hidden');
      this.textContent = 'Hide Details';
    } else {
      detailsPanel.classList.add('visually-hidden');
      this.textContent = 'Details';
    }
  });
}



    

    function hideInfoBox() {
      document.getElementById('element-info').classList.add('visually-hidden');
    }

      
window.onload = () => {
  const table = document.getElementById('periodic-table');

  // Create element boxes for all elements
  elements.forEach(el => {
    table.appendChild(createElementBox(el));
  });

  // Add animation class after delay
  setTimeout(() => {
    table.classList.add('animate-in');
  }, 3000);

  // Attach click listeners to filter buttons â€” run once here
  document.querySelectorAll('.filter-btn').forEach(btn => {
    btn.addEventListener('click', function () {
      document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
      this.classList.add('active');
      filterGroup(this.getAttribute('data-group'));
    });
  });

  // Attach search form submit listener â€” run once here
  document.getElementById('searchForm').addEventListener('submit', function(e) {
    e.preventDefault();
    const query = document.getElementById('searchInput').value.trim().toLowerCase();
    if (!query) {
      filterGroup('all');
      return;
    }
    const allElements = document.querySelectorAll('.element');
    let found = false;
    allElements.forEach(el => {
      const symbol = el.querySelector('strong').textContent.toLowerCase();
      const number = el.querySelector('small').textContent;
      const name = el.getAttribute('data-name')?.toLowerCase() || '';
      if (
        symbol === query ||
        number === query ||
        name.includes(query)
      ) {
        el.classList.remove('dimmed');
        el.classList.add('highlighted');
        found = true;
      } else {
        el.classList.add('dimmed');
        el.classList.remove('highlighted');
      }
    });
    if (!found) filterGroup('all');
  });

  // Set "Show All" filter button active by default
  document.querySelector('.filter-btn[data-group="all"]').classList.add('active');

  // Drag box code here...
};

// Optionally set 'Show All' as active on initial load
document.querySelector('.filter-btn[data-group="all"]').classList.add('active');


  
  setTimeout(() => {
  table.classList.add('animate-in');
}, 3000); // Adjust delay to match GIF duration in ms (e.g., 3s = 3000ms)


  const infoBox = document.getElementById('element-info');
  let isDragging = false, offsetX = 0, offsetY = 0;

  // Start dragging on mousedown (except if the close button is clicked)
  infoBox.addEventListener('mousedown', function(e) {
    if (e.target.classList.contains('custom-close')) return;
    isDragging = true;
    offsetX = e.clientX - infoBox.getBoundingClientRect().left;
    offsetY = e.clientY - infoBox.getBoundingClientRect().top;
    infoBox.style.cursor = 'move';
  });

  // Move the box with the mouse
  document.addEventListener('mousemove', function(e) {
    if (isDragging) {
      infoBox.style.left = (e.clientX - offsetX) + 'px';
      infoBox.style.top = (e.clientY - offsetY) + 'px';
    }
  });

  // Release on mouseup
  document.addEventListener('mouseup', function() {
    isDragging = false;
    infoBox.style.cursor = '';
  });
  function filterGroup(group) {
  const allElements = document.querySelectorAll('.element');

  if (group === 'all') {
    allElements.forEach(el => {
      el.classList.remove('dimmed');
      el.classList.remove('highlighted');
    });
    return;
  }

  allElements.forEach(el => {
    if (el.classList.contains(group)) {
      el.classList.remove('dimmed');
      el.classList.add('highlighted');
    } else {
      el.classList.add('dimmed');
      el.classList.remove('highlighted');
    }
  });
  
};


// Attach click listeners to filter buttons
document.querySelectorAll('.filter-btn').forEach(btn => {
  btn.addEventListener('click', function () {
    // Remove 'active' class from all buttons, then set it for the clicked one
    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
    this.classList.add('active');
    // Call the filter function with the correct group
    filterGroup(this.getAttribute('data-group'));
  });
  document.getElementById('topSearchForm').addEventListener('submit', function(e) {
  e.preventDefault();
  const query = document.getElementById('topSearchInput').value.trim().toLowerCase();
  if (!query) {
    hideInfoBox();
    return;
  }
  
  const foundElement = elements.find(el => 
    el.name.toLowerCase() === query ||
    el.symbol.toLowerCase() === query ||
    el.atomicNumber.toString() === query 
    
  );
  
  if (foundElement) {
    const tableElements = document.querySelectorAll('.element');
    let domEl = null;
    tableElements.forEach(el => {
      if (el.querySelector('strong').textContent === foundElement.symbol) {
        domEl = el;
      }
    });
    showInfoBox(foundElement, domEl);
  } else {
    alert("Element not found");
    hideInfoBox();
  }
});



})



  </script>
</body>
</html>
